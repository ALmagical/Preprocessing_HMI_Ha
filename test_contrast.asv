%%
%增强Ha图像对比度的测试程序
%
%%
import matlab.io.*
img_name='C:\Users\11054\Desktop\test\bbso_halph_fl_20120908_200048.fts';
img_save='C:\Users\11054\Desktop\test\bbso_halph_fl_20120908_200048.jpg';%保存fits图的路径
fptr = fits.openFile(img_name);
info = fitsinfo(img_name);
data = fits.readImg(fptr);
[high,width]=size(data);
data_max=max(max(data));
data_min=min(min(data));
data_gray=double((data-data_min))/double((data_max-data_min));
data_gray=uint8(255*data_gray);
%镜像翻转原图像
final_img=flipud(data_gray);
img_max=max(final_img(:));
img_min=min(final_img(:));
img_adj=imadjust(final_img,[],[1 0]);
img_max_adj=max(img_adj(:));
img_min_adj=min(img_adj(:));
figure();
imshow(img_adj);
imwrite(img_adj,img_save,'jpg','Quality',100);
fits.closeFile(fptr); 